/**
 * @file Firestore Security Rules
 * @description This ruleset allows anyone to see the data.
 *
 * Core Philosophy:
 * The ruleset grants public read access to all collections, enabling any user (authenticated or unauthenticated) to retrieve data.
 * All write operations are denied.
 *
 * Data Structure:
 * The Firestore database is structured with top-level collections for each entity: users, clients, products, stocks, sales, purchases, receipts, expenses, exports, local_sales, and financial_transactions.
 *
 * Key Security Decisions:
 * - Public Read Access: All `get` and `list` operations are allowed for all users, including unauthenticated users.
 * - No Write Access: All `create`, `update`, and `delete` operations are denied, preventing unauthorized data modification.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read user data, but restricts all write operations.
     * @path /users/{userId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify user data.
     * @principle Allows public read access to user data.
     */
    match /users/{userId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read client data, but restricts all write operations.
     * @path /clients/{clientId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify client data.
     * @principle Allows public read access to client data.
     */
    match /clients/{clientId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read product data, but restricts all write operations.
     * @path /products/{productId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify product data.
     * @principle Allows public read access to product data.
     */
    match /products/{productId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read stock data, but restricts all write operations.
     * @path /stocks/{stockId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify stock data.
     * @principle Allows public read access to stock data.
     */
    match /stocks/{stockId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read sales data, but restricts all write operations.
     * @path /sales/{saleId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify sales data.
     * @principle Allows public read access to sales data.
     */
    match /sales/{saleId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read purchase data, but restricts all write operations.
     * @path /purchases/{purchaseId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify purchase data.
     * @principle Allows public read access to purchase data.
     */
    match /purchases/{purchaseId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read receipt data, but restricts all write operations.
     * @path /receipts/{receiptId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify receipt data.
     * @principle Allows public read access to receipt data.
     */
    match /receipts/{receiptId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read expense data, but restricts all write operations.
     * @path /expenses/{expenseId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify expense data.
     * @principle Allows public read access to expense data.
     */
    match /expenses/{expenseId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read export data, but restricts all write operations.
     * @path /exports/{exportId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify export data.
     * @principle Allows public read access to export data.
     */
    match /exports/{exportId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read local_sales data, but restricts all write operations.
     * @path /local_sales/{localSaleId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify local_sales data.
     * @principle Allows public read access to local_sales data.
     */
    match /local_sales/{localSaleId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read financial_transactions data, but restricts all write operations.
     * @path /financial_transactions/{transactionId}
     * @allow (get, list) - Any user can read the data.
     * @deny (create, update, delete) - No one can modify financial_transactions data.
     * @principle Allows public read access to financial_transactions data.
     */
    match /financial_transactions/{transactionId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}