(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3310:(e,r,t)=>{"use strict";t.d(r,{d:()=>s});let s=function(){let e={};return{on(r,t){var s;e[r]||(e[r]=[]),null==(s=e[r])||s.push(t)},off(r,t){var s;e[r]&&(e[r]=null==(s=e[r])?void 0:s.filter(e=>e!==t))},emit(r,t){var s;e[r]&&(null==(s=e[r])||s.forEach(e=>e(t)))}}}()},4635:(e,r,t)=>{"use strict";t.d(r,{AU:()=>f,As:()=>n.As,Ge:()=>c,jt:()=>n.jt,$e:()=>n.$e,Jd:()=>n.Jd});let s={projectId:"tracker-with-coconut-488-edd4f",appId:"1:933855061938:web:99bda7e381824ce8ee66ab",apiKey:"AIzaSyASQoE3m-ebhuV1p1XPOn6zJP-Zi0AcXiE",authDomain:"tracker-with-coconut-488-edd4f.firebaseapp.com",measurementId:"",messagingSenderId:"933855061938",storageBucket:"tracker-with-coconut-488-edd4f.appspot.com"};var o=t(23915),a=t(93004),i=t(35317),n=t(90178);t(27102);var u=t(12115),d=t(3310);class l extends Error{constructor(e){let r=function(e){let r=null;try{let e=(0,a.xI)().currentUser;e&&(r=function(e){var r;if(!e)return null;let t={name:e.displayName,email:e.email,email_verified:e.emailVerified,phone_number:e.phoneNumber,sub:e.uid,firebase:{identities:e.providerData.reduce((e,r)=>(r.providerId&&(e[r.providerId]=[r.uid]),e),{}),sign_in_provider:(null==(r=e.providerData[0])?void 0:r.providerId)||"custom",tenant:e.tenantId}};return{uid:e.uid,token:t}}(e))}catch(e){}return{auth:r,method:e.operation,path:"/databases/(default)/documents/".concat(e.path),resource:e.requestResourceData?{data:e.requestResourceData}:void 0}}(e);super("Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n".concat(JSON.stringify(r,null,2))),this.name="FirebaseError",this.request=r}}function c(e){let[r,t]=(0,u.useState)(null),[s,o]=(0,u.useState)(!1),[a,n]=(0,u.useState)(null);if((0,u.useEffect)(()=>{if(!e){t(null),o(!1),n(null);return}o(!0),n(null);let r=(0,i.aQ)(e,e=>{let r=[];for(let t of e.docs)r.push({...t.data(),id:t.id});t(r),n(null),o(!1)},r=>{let s=new l({operation:"list",path:"collection"===e.type?e.path:e._query.path.canonicalString()});n(s),t(null),o(!1),d.d.emit("permission-error",s)});return()=>r()},[e]),e&&!e.__memo)throw Error(e+" was not properly memoized using useMemoFirebase");return{data:r,isLoading:s,error:a}}function f(){return(0,o.Dk)().length?p((0,o.Sx)()):p((0,o.Wp)(s))}function p(e){return{firebaseApp:e,auth:(0,a.xI)(e),firestore:(0,i.aU)(e)}}},7948:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,52728,23)),Promise.resolve().then(t.bind(t,52558)),Promise.resolve().then(t.bind(t,27102))},27102:(e,r,t)=>{"use strict";t.d(r,{FirebaseClientProvider:()=>u});var s=t(95155),o=t(12115),a=t(90178),i=t(4635),n=t(93399);function u(e){let{children:r}=e,t=(0,o.useMemo)(()=>(0,i.AU)(),[]);return(0,s.jsxs)(a.R8,{firebaseApp:t.firebaseApp,auth:t.auth,firestore:t.firestore,children:[(0,s.jsx)(n.K,{}),r]})}},52558:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>g});var s=t(95155),o=t(87481),a=t(12115),i=t(26621),n=t(74466),u=t(25318),d=t(59434);let l=i.Kq,c=a.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,s.jsx)(i.LM,{ref:r,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...o})});c.displayName=i.LM.displayName;let f=(0,n.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=a.forwardRef((e,r)=>{let{className:t,variant:o,...a}=e;return(0,s.jsx)(i.bL,{ref:r,className:(0,d.cn)(f({variant:o}),t),...a})});p.displayName=i.bL.displayName,a.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,s.jsx)(i.rc,{ref:r,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...o})}).displayName=i.rc.displayName;let m=a.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,s.jsx)(i.bm,{ref:r,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...o,children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})});m.displayName=i.bm.displayName;let v=a.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,s.jsx)(i.hE,{ref:r,className:(0,d.cn)("text-sm font-semibold",t),...o})});v.displayName=i.hE.displayName;let h=a.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,s.jsx)(i.VY,{ref:r,className:(0,d.cn)("text-sm opacity-90",t),...o})});function g(){let{toasts:e}=(0,o.dj)();return(0,s.jsxs)(l,{children:[e.map(function(e){let{id:r,title:t,description:o,action:a,...i}=e;return(0,s.jsxs)(p,{...i,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[t&&(0,s.jsx)(v,{children:t}),o&&(0,s.jsx)(h,{children:o})]}),a,(0,s.jsx)(m,{})]},r)}),(0,s.jsx)(c,{})]})}h.displayName=i.VY.displayName},52728:()=>{},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var s=t(52596),o=t(39688);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.QP)((0,s.$)(r))}},87481:(e,r,t)=>{"use strict";t.d(r,{dj:()=>f});var s=t(12115);let o=0,a=new Map,i=e=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,r)},n=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},u=[],d={toasts:[]};function l(e){d=n(d,e),u.forEach(e=>{e(d)})}function c(e){let{...r}=e,t=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function f(){let[e,r]=s.useState(d);return s.useEffect(()=>(u.push(r),()=>{let e=u.indexOf(r);e>-1&&u.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},90178:(e,r,t)=>{"use strict";t.d(r,{$e:()=>f,As:()=>l,Jd:()=>p,R8:()=>u,jt:()=>c});var s=t(95155),o=t(12115),a=t(93004),i=t(93399);let n=(0,o.createContext)(void 0),u=e=>{let{children:r,firebaseApp:t,firestore:u,auth:d}=e,[l,c]=(0,o.useState)({user:null,isUserLoading:!0,userError:null});(0,o.useEffect)(()=>{if(!d)return void c({user:null,isUserLoading:!1,userError:Error("Auth service not provided.")});c({user:null,isUserLoading:!0,userError:null});let e=(0,a.hg)(d,e=>{c({user:e,isUserLoading:!1,userError:null})},e=>{console.error("FirebaseProvider: onAuthStateChanged error:",e),c({user:null,isUserLoading:!1,userError:e})});return()=>e()},[d]);let f=(0,o.useMemo)(()=>{let e=!!(t&&u&&d);return{areServicesAvailable:e,firebaseApp:e?t:null,firestore:e?u:null,auth:e?d:null,user:l.user,isUserLoading:l.isUserLoading,userError:l.userError}},[t,u,d,l]);return(0,s.jsxs)(n.Provider,{value:f,children:[(0,s.jsx)(i.K,{}),r]})},d=()=>{let e=(0,o.useContext)(n);if(void 0===e)throw Error("useFirebase must be used within a FirebaseProvider.");if(!e.areServicesAvailable||!e.firebaseApp||!e.firestore||!e.auth)throw Error("Firebase core services not available. Check FirebaseProvider props.");return{firebaseApp:e.firebaseApp,firestore:e.firestore,auth:e.auth,user:e.user,isUserLoading:e.isUserLoading,userError:e.userError}},l=()=>{let{auth:e}=d();return e},c=()=>{let{firestore:e}=d();return e};function f(e,r){let t=(0,o.useMemo)(e,r);return"object"!=typeof t||null===t||(t.__memo=!0),t}let p=()=>{let{user:e,isUserLoading:r,userError:t}=d();return{user:e,isUserLoading:r,userError:t}}},93399:(e,r,t)=>{"use strict";t.d(r,{K:()=>a});var s=t(12115),o=t(3310);function a(){let[e,r]=(0,s.useState)(null);if((0,s.useEffect)(()=>{let e=e=>{r(e)};return o.d.on("permission-error",e),()=>{o.d.off("permission-error",e)}},[]),e)throw e;return null}}},e=>{var r=r=>e(e.s=r);e.O(0,[690,992,644,163,33,234,441,684,358],()=>r(7948)),_N_E=e.O()}]);