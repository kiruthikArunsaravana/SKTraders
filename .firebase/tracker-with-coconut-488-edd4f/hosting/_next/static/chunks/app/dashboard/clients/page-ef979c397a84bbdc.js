(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{26126:(e,n,t)=>{"use strict";t.d(n,{E:()=>c});var a=t(95155);t(12115);var s=t(74466),l=t(59434);let r=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:n,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)(r({variant:t}),n),...s})}},40968:(e,n,t)=>{"use strict";t.d(n,{b:()=>c});var a=t(12115),s=t(63540),l=t(95155),r=a.forwardRef((e,n)=>(0,l.jsx)(s.sG.label,{...e,ref:n,onMouseDown:n=>{var t;n.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));r.displayName="Label";var c=r},50816:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>N});var a=t(95155),s=t(34301),l=t(30285),r=t(66695),c=t(85127),i=t(26126),d=t(87481),o=t(12115),h=t(54165),m=t(62523),x=t(85057),u=t(4635),j=t(35317),p=t(83013),y=t(68856),v=t(59409);function N(){let{toast:e}=(0,d.dj)(),[n,t]=(0,o.useState)(!1),N=(0,u.jt)(),f=(0,u.$e)(()=>N?(0,j.P)((0,j.rJ)(N,"clients"),(0,j.My)("companyName","asc")):null,[N]),{data:g,isLoading:b}=(0,u.Ge)(f);async function A(n){if(n.preventDefault(),!N)return void e({variant:"destructive",title:"Error",description:"Firestore is not available."});let a=new FormData(n.currentTarget),s=a.get("contactName"),l=a.get("contactEmail"),r=a.get("companyName"),c=a.get("country"),i=a.get("clientType");if(!s||!l||!r||!c||!i)return void e({variant:"destructive",title:"Validation Error",description:"Please fill out all fields."});try{let a=(0,j.rJ)(N,"clients");await (0,j.gS)(a,{contactName:s,contactEmail:l,companyName:r,country:c,clientType:i,totalSales:0,lastPurchaseDate:j.Dc.now()}),t(!1),n.target.reset(),e({title:"Client Added",description:"".concat(r," has been successfully added.")})}catch(n){console.error("Error adding client: ",n),e({variant:"destructive",title:"Error Adding Client",description:n.message||"An unexpected error occurred."})}}return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-headline",children:"Client Management"}),(0,a.jsxs)(h.lG,{open:n,onOpenChange:t,children:[(0,a.jsx)(h.zM,{asChild:!0,children:(0,a.jsxs)(l.$,{children:[(0,a.jsx)(s.A,{className:"mr-2 h-5 w-5"})," Add Client"]})}),(0,a.jsxs)(h.Cf,{children:[(0,a.jsxs)(h.c7,{children:[(0,a.jsx)(h.L3,{children:"Add New Client"}),(0,a.jsx)(h.rr,{children:"Enter the details of the new client."})]}),(0,a.jsxs)("form",{onSubmit:A,children:[(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"companyName",children:"Company Name"}),(0,a.jsx)(m.p,{id:"companyName",name:"companyName",placeholder:"Acme Inc.",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"contactName",children:"Contact Name"}),(0,a.jsx)(m.p,{id:"contactName",name:"contactName",placeholder:"John Doe",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"contactEmail",children:"Contact Email"}),(0,a.jsx)(m.p,{id:"contactEmail",name:"contactEmail",type:"email",placeholder:"john@example.com",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"clientType",children:"Client Type"}),(0,a.jsxs)(v.l6,{name:"clientType",required:!0,children:[(0,a.jsx)(v.bq,{children:(0,a.jsx)(v.yv,{placeholder:"Select client type"})}),(0,a.jsxs)(v.gC,{children:[(0,a.jsx)(v.eb,{value:"local",children:"Local"}),(0,a.jsx)(v.eb,{value:"international",children:"International"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x.J,{htmlFor:"country",children:"Country"}),(0,a.jsx)(m.p,{id:"country",name:"country",placeholder:"USA",required:!0})]})]}),(0,a.jsx)(h.Es,{children:(0,a.jsx)(l.$,{type:"submit",children:"Add Client"})})]})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"All Clients"}),(0,a.jsx)(r.BT,{children:"Manage your clients and view their purchase history."})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)(c.XI,{children:[(0,a.jsx)(c.A0,{children:(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nd,{children:"Company"}),(0,a.jsx)(c.nd,{className:"hidden sm:table-cell",children:"Client Type"}),(0,a.jsx)(c.nd,{className:"hidden md:table-cell",children:"Contact"}),(0,a.jsx)(c.nd,{className:"hidden md:table-cell",children:"Country"}),(0,a.jsx)(c.nd,{className:"hidden md:table-cell",children:"Last Purchase"}),(0,a.jsx)(c.nd,{className:"text-right",children:"Total Sales"})]})}),(0,a.jsxs)(c.BF,{children:[b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Hj,{children:(0,a.jsx)(c.nA,{colSpan:6,children:(0,a.jsx)(y.E,{className:"h-8 w-full"})})}),(0,a.jsx)(c.Hj,{children:(0,a.jsx)(c.nA,{colSpan:6,children:(0,a.jsx)(y.E,{className:"h-8 w-full"})})})]}),!b&&g&&g.map(e=>(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nA,{children:(0,a.jsx)("div",{className:"font-medium",children:e.companyName})}),(0,a.jsx)(c.nA,{className:"hidden sm:table-cell",children:(0,a.jsx)(i.E,{variant:"international"===e.clientType?"default":"secondary",children:e.clientType})}),(0,a.jsxs)(c.nA,{className:"hidden md:table-cell",children:[(0,a.jsx)("div",{className:"font-medium",children:e.contactName}),(0,a.jsx)("div",{className:"hidden text-sm text-muted-foreground md:inline",children:e.contactEmail})]}),(0,a.jsx)(c.nA,{className:"hidden md:table-cell",children:(0,a.jsx)(i.E,{variant:"outline",children:e.country})}),(0,a.jsx)(c.nA,{className:"hidden md:table-cell",children:e.lastPurchaseDate?(0,p.GP)(e.lastPurchaseDate.toDate(),"PP"):"N/A"}),(0,a.jsxs)(c.nA,{className:"text-right",children:["$",e.totalSales.toLocaleString()]})]},e.id)),!b&&(!g||0===g.length)&&(0,a.jsx)(c.Hj,{children:(0,a.jsx)(c.nA,{colSpan:6,className:"text-center",children:"No clients found. Add one to get started."})})]})]})})]})]})}},73739:(e,n,t)=>{Promise.resolve().then(t.bind(t,50816))}},e=>{var n=n=>e(e.s=n);e.O(0,[992,644,163,33,878,13,152,659,760,474,594,441,684,358],()=>n(73739)),_N_E=e.O()}]);