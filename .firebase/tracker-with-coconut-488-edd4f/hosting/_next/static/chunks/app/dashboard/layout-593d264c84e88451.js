(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{3310:(e,r,t)=>{"use strict";t.d(r,{d:()=>a});let a=function(){let e={};return{on(r,t){var a;e[r]||(e[r]=[]),null==(a=e[r])||a.push(t)},off(r,t){var a;e[r]&&(e[r]=null==(a=e[r])?void 0:a.filter(e=>e!==t))},emit(r,t){var a;e[r]&&(null==(a=e[r])||a.forEach(e=>e(t)))}}}()},4635:(e,r,t)=>{"use strict";t.d(r,{AU:()=>m,As:()=>o.As,Ge:()=>u,jt:()=>o.jt,$e:()=>o.$e,Jd:()=>o.Jd});let a={projectId:"tracker-with-coconut-488-edd4f",appId:"1:933855061938:web:99bda7e381824ce8ee66ab",apiKey:"AIzaSyASQoE3m-ebhuV1p1XPOn6zJP-Zi0AcXiE",authDomain:"tracker-with-coconut-488-edd4f.firebaseapp.com",measurementId:"",messagingSenderId:"933855061938",storageBucket:"tracker-with-coconut-488-edd4f.appspot.com"};var s=t(23915),i=t(93004),n=t(35317),o=t(90178);t(27102);var l=t(12115),d=t(3310);class c extends Error{constructor(e){let r=function(e){let r=null;try{let e=(0,i.xI)().currentUser;e&&(r=function(e){var r;if(!e)return null;let t={name:e.displayName,email:e.email,email_verified:e.emailVerified,phone_number:e.phoneNumber,sub:e.uid,firebase:{identities:e.providerData.reduce((e,r)=>(r.providerId&&(e[r.providerId]=[r.uid]),e),{}),sign_in_provider:(null==(r=e.providerData[0])?void 0:r.providerId)||"custom",tenant:e.tenantId}};return{uid:e.uid,token:t}}(e))}catch(e){}return{auth:r,method:e.operation,path:"/databases/(default)/documents/".concat(e.path),resource:e.requestResourceData?{data:e.requestResourceData}:void 0}}(e);super("Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\n".concat(JSON.stringify(r,null,2))),this.name="FirebaseError",this.request=r}}function u(e){let[r,t]=(0,l.useState)(null),[a,s]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null);if((0,l.useEffect)(()=>{if(!e){t(null),s(!1),o(null);return}s(!0),o(null);let r=(0,n.aQ)(e,e=>{let r=[];for(let t of e.docs)r.push({...t.data(),id:t.id});t(r),o(null),s(!1)},r=>{let a=new c({operation:"list",path:"collection"===e.type?e.path:e._query.path.canonicalString()});o(a),t(null),s(!1),d.d.emit("permission-error",a)});return()=>r()},[e]),e&&!e.__memo)throw Error(e+" was not properly memoized using useMemoFirebase");return{data:r,isLoading:a,error:i}}function m(){return(0,s.Dk)().length?f((0,s.Sx)()):f((0,s.Wp)(a))}function f(e){return{firebaseApp:e,auth:(0,i.xI)(e),firestore:(0,n.aU)(e)}}},5198:e=>{"use strict";e.exports=JSON.parse('{"o":[{"id":"login-background","description":"A large pile of coconut husks ready for processing.","imageUrl":"https://picsum.photos/seed/husktrack1/1920/1080","imageHint":"coconut husks"},{"id":"avatar-1","description":"Avatar of a male user","imageUrl":"https://picsum.photos/seed/avatar1/40/40","imageHint":"person portrait"},{"id":"avatar-2","description":"Avatar of a female user","imageUrl":"https://picsum.photos/seed/avatar2/40/40","imageHint":"woman portrait"},{"id":"avatar-3","description":"Avatar of a user","imageUrl":"https://picsum.photos/seed/avatar3/40/40","imageHint":"face portrait"},{"id":"avatar-4","description":"Avatar of a user","imageUrl":"https://picsum.photos/seed/avatar4/40/40","imageHint":"person smiling"}]}')},24053:(e,r,t)=>{Promise.resolve().then(t.bind(t,38178))},27102:(e,r,t)=>{"use strict";t.d(r,{FirebaseClientProvider:()=>l});var a=t(95155),s=t(12115),i=t(90178),n=t(4635),o=t(93399);function l(e){let{children:r}=e,t=(0,s.useMemo)(()=>(0,n.AU)(),[]);return(0,a.jsxs)(i.R8,{firebaseApp:t.firebaseApp,auth:t.auth,firestore:t.firestore,children:[(0,a.jsx)(o.K,{}),r]})}},30285:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>l});var a=t(95155),s=t(12115),i=t(66634),n=t(74466),o=t(59434);let l=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(l({variant:s,size:n,className:t})),ref:r,...c})});d.displayName="Button"},38178:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>es});var a=t(95155),s=t(12115),i=t(35695),n=t(4635),o=t(6874),l=t.n(o),d=t(10469),c=t(50286),u=t(27207),m=t(70154),f=t(57679),p=t(85081),h=t(88390),x=t(15300),g=t(59722),b=t(18271),v=t(59434);function j(){let e=(0,i.usePathname)(),r=[{href:"/dashboard",label:"Dashboard",icon:d.A},{href:"/dashboard/clients",label:"Clients",icon:c.A},{href:"/dashboard/stock",label:"Stock",icon:u.A},{href:"/dashboard/coconut-purchases",label:"Coconut Buying",icon:m.A},{href:"/dashboard/exports",label:"Exports",icon:f.A},{href:"/dashboard/local-sales",label:"Local Sales",icon:p.A},{href:"/dashboard/finance",label:"Finance",icon:h.A},{href:"/dashboard/reports",label:"Reports",icon:x.A}],t=[{href:"#",label:"Support",icon:g.A},{href:"/dashboard/settings",label:"Settings",icon:b.A}],s=r=>{let{href:t,label:s,icon:i}=r,n=e===t||"/dashboard"!==t&&e.startsWith(t);return(0,a.jsxs)(l(),{href:t,className:(0,v.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",n&&"bg-muted text-primary"),children:[(0,a.jsx)(i,{className:"h-4 w-4"}),s]},s)};return(0,a.jsx)("div",{className:"hidden border-r bg-card md:block",children:(0,a.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6",children:(0,a.jsx)(l(),{href:"/dashboard",className:"flex items-center gap-2 font-headline text-lg font-semibold",children:(0,a.jsx)("span",{children:"SKTraders"})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4",children:r.map(s)})}),(0,a.jsx)("div",{className:"mt-auto p-4",children:(0,a.jsx)("nav",{className:"grid items-start gap-1 text-sm font-medium",children:t.map(s)})})]})})}var N=t(66634),y=t(73158);t(3561);let w=s.forwardRef((e,r)=>{let{...t}=e;return(0,a.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...t})});w.displayName="Breadcrumb";let A=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("ol",{ref:r,className:(0,v.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...s})});A.displayName="BreadcrumbList";let k=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("li",{ref:r,className:(0,v.cn)("inline-flex items-center gap-1.5",t),...s})});k.displayName="BreadcrumbItem";let E=s.forwardRef((e,r)=>{let{asChild:t,className:s,...i}=e,n=t?N.DX:"a";return(0,a.jsx)(n,{ref:r,className:(0,v.cn)("transition-colors hover:text-foreground",s),...i})});E.displayName="BreadcrumbLink";let U=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,v.cn)("font-normal text-foreground",t),...s})});U.displayName="BreadcrumbPage";let R=e=>{let{children:r,className:t,...s}=e;return(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,v.cn)("[&>svg]:size-3.5",t),...s,children:null!=r?r:(0,a.jsx)(y.A,{})})};R.displayName="BreadcrumbSeparator";var _=t(30285),S=t(76215),C=t(10518);let z=S.bL,L=S.l9;S.YJ,S.ZL,S.Pb,S.z6,s.forwardRef((e,r)=>{let{className:t,inset:s,children:i,...n}=e;return(0,a.jsxs)(S.ZP,{ref:r,className:(0,v.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n,children:[i,(0,a.jsx)(y.A,{className:"ml-auto"})]})}).displayName=S.ZP.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(S.G5,{ref:r,className:(0,v.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}).displayName=S.G5.displayName;let P=s.forwardRef((e,r)=>{let{className:t,sideOffset:s=4,...i}=e;return(0,a.jsx)(S.ZL,{children:(0,a.jsx)(S.UC,{ref:r,sideOffset:s,className:(0,v.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});P.displayName=S.UC.displayName;let F=s.forwardRef((e,r)=>{let{className:t,inset:s,...i}=e;return(0,a.jsx)(S.q7,{ref:r,className:(0,v.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...i})});F.displayName=S.q7.displayName,s.forwardRef((e,r)=>{let{className:t,children:s,checked:i,...n}=e;return(0,a.jsxs)(S.H_,{ref:r,className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:i,...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(S.VF,{children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})}),s]})}).displayName=S.H_.displayName,s.forwardRef((e,r)=>{let{className:t,children:s,...i}=e;return(0,a.jsxs)(S.hN,{ref:r,className:(0,v.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(S.VF,{children:(0,a.jsx)(m.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=S.hN.displayName;let I=s.forwardRef((e,r)=>{let{className:t,inset:s,...i}=e;return(0,a.jsx)(S.JU,{ref:r,className:(0,v.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...i})});I.displayName=S.JU.displayName;let J=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(S.wv,{ref:r,className:(0,v.cn)("-mx-1 my-1 h-px bg-muted",t),...s})});J.displayName=S.wv.displayName;var D=t(45821),B=t(74466),M=t(25318);let H=D.bL,V=D.l9;D.bm;let q=D.ZL,$=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(D.hJ,{className:(0,v.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r})});$.displayName=D.hJ.displayName;let O=(0,B.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Z=s.forwardRef((e,r)=>{let{side:t="right",className:s,children:i,...n}=e;return(0,a.jsxs)(q,{children:[(0,a.jsx)($,{}),(0,a.jsxs)(D.UC,{ref:r,className:(0,v.cn)(O({side:t}),s),...n,children:[i,(0,a.jsxs)(D.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});Z.displayName=D.UC.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(D.hE,{ref:r,className:(0,v.cn)("text-lg font-semibold text-foreground",t),...s})}).displayName=D.hE.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(D.VY,{ref:r,className:(0,v.cn)("text-sm text-muted-foreground",t),...s})}).displayName=D.VY.displayName;var K=t(15546),T=t(91721),X=t(36936),G=t(68027),Q=t(33349),Y=t(66766),W=t(5198),ee=t(51362),er=t(93004);function et(){let e=(0,i.usePathname)(),{setTheme:r}=(0,ee.D)(),t=(0,n.As)(),o=W.o.find(e=>"avatar-1"===e.id);return(0,a.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-card/80 px-4 backdrop-blur-sm sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6",children:[(0,a.jsxs)(H,{children:[(0,a.jsx)(V,{asChild:!0,children:(0,a.jsxs)(_.$,{size:"icon",variant:"outline",className:"sm:hidden",children:[(0,a.jsx)(K.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,a.jsx)(Z,{side:"left",className:"sm:max-w-xs p-0",children:(0,a.jsx)(j,{})})]}),(0,a.jsx)(w,{className:"hidden md:flex",children:(0,a.jsx)(A,{children:(()=>{let r=e.split("/").filter(Boolean);return r.map((e,t)=>{let i="/"+r.slice(0,t+1).join("/"),n=t===r.length-1,o=e.charAt(0).toUpperCase()+e.slice(1);return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(k,{children:n?(0,a.jsx)(U,{children:o}):(0,a.jsx)(E,{asChild:!0,children:(0,a.jsx)(l(),{href:i,children:o})})}),!n&&(0,a.jsx)(R,{})]},i)})})()})}),(0,a.jsx)("div",{className:"relative ml-auto flex-1 md:grow-0"}),(0,a.jsxs)(z,{children:[(0,a.jsx)(L,{asChild:!0,children:(0,a.jsx)(_.$,{variant:"outline",size:"icon",className:"overflow-hidden rounded-full",children:o&&(0,a.jsx)(Y.default,{src:o.imageUrl,width:36,height:36,alt:"Avatar",className:"overflow-hidden rounded-full","data-ai-hint":o.imageHint})})}),(0,a.jsxs)(P,{align:"end",children:[(0,a.jsx)(I,{children:"My Account"}),(0,a.jsx)(J,{}),(0,a.jsxs)(F,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,a.jsxs)(F,{children:[(0,a.jsx)(T.A,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,a.jsx)(J,{}),(0,a.jsxs)(F,{onClick:()=>r("light"),children:[(0,a.jsx)(X.A,{className:"mr-2 h-4 w-4"})," Light Mode"]}),(0,a.jsxs)(F,{onClick:()=>r("dark"),children:[(0,a.jsx)(G.A,{className:"mr-2 h-4 w-4"})," Dark Mode"]}),(0,a.jsx)(J,{}),(0,a.jsxs)(F,{onClick:()=>{t&&(0,er.CI)(t)},children:[(0,a.jsx)(Q.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})}var ea=t(50172);function es(e){let{children:r}=e,{user:t,isUserLoading:o}=(0,n.Jd)(),l=(0,i.useRouter)();return((0,s.useEffect)(()=>{o||t||l.push("/")},[t,o,l]),o)?(0,a.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:(0,a.jsx)(ea.A,{className:"h-8 w-8 animate-spin"})}):t?(0,a.jsx)(ee.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,a.jsxs)("div",{className:"grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,a.jsx)(j,{}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(et,{}),(0,a.jsx)("main",{className:"flex flex-1 flex-col gap-4 p-4 lg:gap-6 lg:p-6 bg-muted/40",children:r})]})]})}):null}},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var a=t(52596),s=t(39688);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},90178:(e,r,t)=>{"use strict";t.d(r,{$e:()=>m,As:()=>c,Jd:()=>f,R8:()=>l,jt:()=>u});var a=t(95155),s=t(12115),i=t(93004),n=t(93399);let o=(0,s.createContext)(void 0),l=e=>{let{children:r,firebaseApp:t,firestore:l,auth:d}=e,[c,u]=(0,s.useState)({user:null,isUserLoading:!0,userError:null});(0,s.useEffect)(()=>{if(!d)return void u({user:null,isUserLoading:!1,userError:Error("Auth service not provided.")});u({user:null,isUserLoading:!0,userError:null});let e=(0,i.hg)(d,e=>{u({user:e,isUserLoading:!1,userError:null})},e=>{console.error("FirebaseProvider: onAuthStateChanged error:",e),u({user:null,isUserLoading:!1,userError:e})});return()=>e()},[d]);let m=(0,s.useMemo)(()=>{let e=!!(t&&l&&d);return{areServicesAvailable:e,firebaseApp:e?t:null,firestore:e?l:null,auth:e?d:null,user:c.user,isUserLoading:c.isUserLoading,userError:c.userError}},[t,l,d,c]);return(0,a.jsxs)(o.Provider,{value:m,children:[(0,a.jsx)(n.K,{}),r]})},d=()=>{let e=(0,s.useContext)(o);if(void 0===e)throw Error("useFirebase must be used within a FirebaseProvider.");if(!e.areServicesAvailable||!e.firebaseApp||!e.firestore||!e.auth)throw Error("Firebase core services not available. Check FirebaseProvider props.");return{firebaseApp:e.firebaseApp,firestore:e.firestore,auth:e.auth,user:e.user,isUserLoading:e.isUserLoading,userError:e.userError}},c=()=>{let{auth:e}=d();return e},u=()=>{let{firestore:e}=d();return e};function m(e,r){let t=(0,s.useMemo)(e,r);return"object"!=typeof t||null===t||(t.__memo=!0),t}let f=()=>{let{user:e,isUserLoading:r,userError:t}=d();return{user:e,isUserLoading:r,userError:t}}},93399:(e,r,t)=>{"use strict";t.d(r,{K:()=>i});var a=t(12115),s=t(3310);function i(){let[e,r]=(0,a.useState)(null);if((0,a.useEffect)(()=>{let e=e=>{r(e)};return s.d.on("permission-error",e),()=>{s.d.off("permission-error",e)}},[]),e)throw e;return null}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,644,163,33,878,152,659,757,101,441,684,358],()=>r(24053)),_N_E=e.O()}]);